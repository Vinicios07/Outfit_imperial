<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outfit Imperial - Loja</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        /* --- DESIGN GERAL (Id√™ntico ao anterior) --- */
        body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background-color: #f8f9fa; color: #111; }
        
        header { background-color: #000; padding: 40px 20px 20px; text-align: center; border-bottom: 4px solid #d4af37; }
        .header-logo-center { display: block; margin: 0 auto 20px; }
        .header-logo-center img { width: 180px; height: auto; display: block; margin: 0 auto; }
        
        .instagram-header { display: flex; justify-content: center; align-items: center; gap: 10px; color: #d4af37; font-size: 16px; font-weight: 600; letter-spacing: 1px; margin-bottom: 25px; }
        .instagram-icon-svg { width: 20px; height: 20px; fill: currentColor; }

        .search-box { margin: 20px auto 10px; max-width: 400px; position: relative; display: flex; }
        .search-input { width: 100%; padding: 12px 40px 12px 20px; border-radius: 30px; border: 2px solid #333; background: #1a1a1a; color: white; font-size: 14px; outline: none; transition: 0.3s; }
        .search-input:focus { border-color: #d4af37; background: #000; }
        .search-icon { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #d4af37; font-size: 18px; pointer-events: none; }
        
        .menu-setores { display: flex; justify-content: center; gap: 15px; margin-top: 25px; padding-bottom: 5px; }
        .btn-setor { background: transparent; border: 1px solid #d4af37; color: #d4af37; padding: 10px 25px; font-family: 'Cinzel', serif; font-size: 14px; cursor: pointer; text-transform: uppercase; transition: all 0.3s; border-radius: 4px; }
        .btn-setor:hover { background: rgba(212, 175, 55, 0.2); }
        .btn-setor.ativo { background: #d4af37; color: #000; font-weight: bold; box-shadow: 0 0 10px rgba(212, 175, 55, 0.5); }

        .container { display: flex; flex-wrap: wrap; justify-content: center; padding: 30px 10px; max-width: 1200px; margin: 0 auto; min-height: 400px; }
        .setor-loja { display: none; width: 100%; flex-wrap: wrap; justify-content: center; }
        .setor-loja.ativo { display: flex; }
        .setor-loja.buscando { display: flex; }

        .produto { background: white; margin: 15px; padding: 20px; border-radius: 12px; width: 260px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.3s ease; position: relative; cursor: pointer; }
        .produto:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .capa-produto { overflow: hidden; border-radius: 8px; margin-bottom: 15px; display: block; position: relative; }
        .capa-produto img { width: 100%; height: 260px; object-fit: cover; transition: transform 0.5s; }
        .produto:hover .capa-produto img { transform: scale(1.05); }
        .ver-detalhes-hover { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.7); color: white; padding: 8px 0; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; opacity: 0; transition: opacity 0.3s; }
        .produto:hover .ver-detalhes-hover { opacity: 1; }
        .produto h3 { color: #111; margin: 10px 0; font-size: 16px; text-transform: uppercase; font-weight: 600; }
        .produto .preco { font-size: 20px; color: #333; font-weight: 700; margin: 5px 0 15px; }

        /* MODAL */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 999; justify-content: center; align-items: center; padding: 20px; }
        .modal-overlay.aberto { display: flex; }
        .modal-content { background: white; width: 100%; max-width: 1000px; height: 90vh; max-height: 700px; border-radius: 12px; display: flex; overflow: hidden; position: relative; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .btn-fechar { position: absolute; top: 15px; right: 20px; font-size: 32px; cursor: pointer; color: #111; z-index: 20; }
        
        .modal-galeria-container { flex: 1.5; display: flex; background: #f4f4f4; padding: 20px; gap: 20px; }
        .modal-thumbnails { display: flex; flex-direction: column; gap: 10px; width: 70px; }
        .thumb-img { width: 70px; height: 70px; object-fit: cover; border-radius: 6px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s; opacity: 0.7; }
        .thumb-img:hover { opacity: 1; }
        .thumb-img.ativo { border-color: #000; opacity: 1; }
        .modal-foto-principal { flex: 1; display: flex; align-items: center; justify-content: center; }
        .modal-foto-principal img { width: 100%; height: 100%; max-height: 600px; object-fit: cover; border-radius: 8px; mix-blend-mode: multiply; }
        
        .modal-info { flex: 1; padding: 40px; text-align: left; display: flex; flex-direction: column; overflow-y: auto; }
        .modal-info h2 { font-family: 'Cinzel', serif; font-size: 28px; margin: 0 0 10px; color: #000; }
        .modal-info .modal-preco { font-size: 26px; font-weight: 700; color: #111; margin-bottom: 25px; }
        .titulo-opcao { font-size: 14px; font-weight: 600; margin-bottom: 12px; display: block; }
        .grade-tamanhos { display: flex; gap: 10px; margin-bottom: 30px; }
        .tamanho-btn { width: 45px; height: 45px; border: 1px solid #ddd; background: white; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 14px; cursor: pointer; transition: all 0.2s; }
        .tamanho-btn:hover { border-color: #000; color: #000; }
        .tamanho-btn.esgotado { background-color: #f5f5f5; color: #ccc; border-color: #eee; cursor: not-allowed; text-decoration: line-through; }
        .modal-descricao { font-size: 15px; color: #444; line-height: 1.7; margin-bottom: 30px; border-top: 1px solid #eee; padding-top: 25px; }
        .modal-botoes { display: flex; flex-direction: column; gap: 12px; margin-top: auto; }
        .botao-modal { background: #000; color: white; text-align: center; padding: 16px; border-radius: 50px; text-decoration: none; font-weight: 600; transition: transform 0.2s; }
        .botao-modal:hover { background: #333; transform: scale(1.01); }
        .botao-modal.vendedor2 { background: #fff; color: #000; border: 2px solid #000; }
        .botao-modal.vendedor2:hover { background: #f0f0f0; }
        #msg-sem-resultado { width: 100%; text-align: center; color: #666; font-style: italic; display: none; margin-top: 50px; }

        @media (max-width: 850px) {
            header { padding-top: 30px; }
            .header-logo-center img { width: 150px; }
            .modal-content { flex-direction: column; height: auto; max-height: 95vh; }
            .modal-galeria-container { flex-direction: column-reverse; padding: 15px; gap: 10px; flex: none; }
            .modal-thumbnails { flex-direction: row; width: 100%; justify-content: center; }
            .thumb-img { width: 60px; height: 60px; }
            .modal-foto-principal img { max-height: 350px; }
            .modal-info { padding: 25px; flex: none; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-logo-center">
            <a href="#" onclick="location.reload(); return false;">
                <img src="logo-oficial.jpeg" alt="Outfit Imperial Logo">
            </a>
        </div>
        
        <div class="instagram-header">
            <svg class="instagram-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-154.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.9 0-184.9zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
            <span>@outfit_imperial</span>
        </div>
        
        <div class="search-box">
            <input type="text" id="campo-pesquisa" class="search-input" placeholder="Busque por modelo, cor..." onkeyup="pesquisarProdutos()">
            <span class="search-icon">üîç</span>
        </div>
        <div class="menu-setores">
            <button class="btn-setor ativo" id="btn-roupas" onclick="mudarSetor('roupas')">Roupas</button>
            <button class="btn-setor" id="btn-sneakers" onclick="mudarSetor('sneakers')">Sneakers</button>
        </div>
    </header>

    <div class="container">
        <div id="msg-sem-resultado">Nenhum produto encontrado...</div>

        <div id="setor-roupas" class="setor-loja ativo"></div> 
        <div id="setor-sneakers" class="setor-loja"></div>
    </div>

    <footer><p>¬© 2024 Outfit Imperial - Todos os direitos reservados</p></footer>

    <div id="janela-modal" class="modal-overlay" onclick="fecharModal(event)">
        <div class="modal-content">
            <span class="btn-fechar" onclick="fecharModal(event)">√ó</span>
            <div class="modal-galeria-container">
                <div id="m-thumbnails" class="modal-thumbnails"></div>
                <div class="modal-foto-principal"><img id="m-img-principal" src="" alt="Produto"></div>
            </div>
            <div class="modal-info">
                <h2 id="m-titulo">...</h2>
                <div id="m-preco" class="modal-preco">...</div>
                <div class="area-tamanhos">
                    <span class="titulo-opcao">Tamanhos Dispon√≠veis:</span>
                    <div id="m-tamanhos" class="grade-tamanhos"></div>
                </div>
                <div id="m-descricao" class="modal-descricao"></div>
                <div class="modal-botoes">
                    <a href="#" id="btn-zap1" class="botao-modal" target="_blank">Falar com Vendedor 1</a>
                    <a href="#" id="btn-zap2" class="botao-modal vendedor2" target="_blank">Falar com Vendedor 2</a>
                </div>
            </div>
        </div>
    </div>

    <script src="produtos.js"></script>

    <script>
        // Quando o site carrega, ele chama essa fun√ß√£o para criar as roupas
        document.addEventListener("DOMContentLoaded", () => {
            carregarProdutosNaTela();
        });

        function carregarProdutosNaTela() {
            const containerRoupas = document.getElementById('setor-roupas');
            const containerSneakers = document.getElementById('setor-sneakers');
            
            // Limpa antes de come√ßar
            containerRoupas.innerHTML = "";
            containerSneakers.innerHTML = "";

            // Loop por cada produto do arquivo produtos.js
            produtos.forEach(prod => {
                // Cria o HTML do cart√£o
                const htmlProduto = `
                    <div class="produto" onclick="abrirModal('${prod.id}')">
                        <div class="capa-produto">
                            <img src="${prod.imgCapa}" alt="${prod.nome}">
                            <div class="ver-detalhes-hover">Clique para ver detalhes</div>
                        </div>
                        <h3>${prod.nome}</h3>
                        <p class="preco">${prod.preco}</p>
                    </div>
                `;

                // Coloca na caixa certa
                if(prod.categoria === 'roupas') {
                    containerRoupas.innerHTML += htmlProduto;
                } else {
                    containerSneakers.innerHTML += htmlProduto;
                }
            });
        }

        // --- SISTEMA DO MODAL (ATUALIZADO PARA LER DO JS) ---
        function abrirModal(idProduto) {
            // Acha o produto na lista pelo ID
            const prod = produtos.find(p => p.id === idProduto);
            if (!prod) return; // Se n√£o achar, para.

            // Preenche os dados
            document.getElementById('m-titulo').innerText = prod.nome;
            document.getElementById('m-preco').innerText = prod.preco;
            document.getElementById('m-descricao').innerHTML = prod.descricao;
            
            // Gera os bot√µes de tamanho
            const divTamanhos = document.getElementById('m-tamanhos');
            divTamanhos.innerHTML = "";
            prod.tamanhos.forEach(tam => {
                const esgotado = prod.esgotados.includes(tam);
                const classe = esgotado ? 'tamanho-btn esgotado' : 'tamanho-btn';
                divTamanhos.innerHTML += `<div class="${classe}">${tam}</div>`;
            });

            // Galeria de Fotos
            const containerThumbs = document.getElementById('m-thumbnails');
            const imgPrincipal = document.getElementById('m-img-principal');
            containerThumbs.innerHTML = "";
            
            // Coloca a primeira foto grande
            imgPrincipal.src = prod.imagens[0];

            // Gera as miniaturas
            prod.imagens.forEach((imgSrc, index) => {
                const thumb = document.createElement('img');
                thumb.src = imgSrc;
                thumb.classList.add('thumb-img');
                if(index === 0) thumb.classList.add('ativo');

                thumb.onclick = () => {
                    imgPrincipal.src = imgSrc;
                    document.querySelectorAll('.thumb-img').forEach(t => t.classList.remove('ativo'));
                    thumb.classList.add('ativo');
                };
                containerThumbs.appendChild(thumb);
            });

            // Links do Zap
            const textoZap = "Ol√°, tenho interesse em: " + prod.nome;
            document.getElementById('btn-zap1').href = "https://wa.me/5511994655832?text=" + encodeURIComponent(textoZap);
            document.getElementById('btn-zap2').href = "https://wa.me/5511917686011?text=" + encodeURIComponent(textoZap);

            // Abre
            document.getElementById('janela-modal').classList.add('aberto');
            document.body.style.overflow = 'hidden';
        }

        function fecharModal(event) {
            if (event.target.classList.contains('modal-overlay') || event.target.classList.contains('btn-fechar')) {
                document.getElementById('janela-modal').classList.remove('aberto');
                document.body.style.overflow = 'auto';
            }
        }

        // --- PESQUISA ---
        function pesquisarProdutos() {
            const termo = document.getElementById('campo-pesquisa').value.toLowerCase();
            const setores = document.querySelectorAll('.setor-loja');
            const produtosDom = document.querySelectorAll('.produto');
            const msgErro = document.getElementById('msg-sem-resultado');
            let encontrou = false;

            if (termo === "") {
                setores.forEach(s => s.classList.remove('buscando'));
                mudarSetor('roupas');
                msgErro.style.display = 'none';
                produtosDom.forEach(p => p.style.display = 'block');
                return;
            }

            setores.forEach(s => { s.style.display = 'flex'; s.classList.add('buscando'); });

            produtosDom.forEach(prod => {
                const titulo = prod.querySelector('h3').innerText.toLowerCase();
                if (titulo.includes(termo)) {
                    prod.style.display = 'block';
                    encontrou = true;
                } else {
                    prod.style.display = 'none';
                }
            });
            msgErro.style.display = encontrou ? 'none' : 'block';
        }

        function mudarSetor(nomeSetor) {
            document.getElementById('campo-pesquisa').value = "";
            document.getElementById('msg-sem-resultado').style.display = 'none';
            document.querySelectorAll('.produto').forEach(p => p.style.display = 'block');
            
            document.getElementById('setor-roupas').style.display = 'none';
            document.getElementById('setor-sneakers').style.display = 'none';
            document.getElementById('setor-roupas').classList.remove('ativo');
            document.getElementById('setor-sneakers').classList.remove('ativo');
            document.querySelectorAll('.btn-setor').forEach(btn => btn.classList.remove('ativo'));

            if(nomeSetor === 'roupas') {
                document.getElementById('setor-roupas').style.display = 'flex';
                document.getElementById('btn-roupas').classList.add('ativo');
            } else {
                document.getElementById('setor-sneakers').style.display = 'flex';
                document.getElementById('btn-sneakers').classList.add('ativo');
            }
        }
    </script>

</body>
</html>
